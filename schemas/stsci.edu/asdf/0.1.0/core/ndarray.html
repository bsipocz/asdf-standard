<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ndarray: An n-dimensional array or table. &mdash; ASDF Standard 0.1.0dev documentation</title>
    
    <link rel="stylesheet" href="../../../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/bootstrap-3.2.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/bootstrap-3.2.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/asdfstandard.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../../',
        VERSION:     '0.1.0dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../../../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../../../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../../../../../_static/logo.ico"/>
    <link rel="top" title="ASDF Standard 0.1.0dev documentation" href="../../../../../index.html" />
    <link rel="up" title="Core" href="../../../../core.html" />
    <link rel="next" title="constant: Specify that a value is a constant." href="constant.html" />
    <link rel="prev" title="complex: Complex number value." href="complex.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">
  
  <a href="https://github.com/spacetelescope/asdf-standard"
     class="visible-desktop"><img
    style="position: absolute; top: 40px; right: 0; border: 0;"
    src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"
    alt="Fork me on GitHub"></a>


  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../../../../index.html">
          ASDF Standard</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1.0dev</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../../../../index.html">Document <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../file_layout.html">Low-level file layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../tree.html">The tree in-depth</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">ASDF schema definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../extending.html">Extending ASDF</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../known_limits.html">Known limits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../changes.html">Changes</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="complex.html" title="Previous Chapter: complex: Complex number value."><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; complex: Complex...</span>
    </a>
  </li>
  <li>
    <a href="constant.html" title="Next Chapter: constant: Specify that a value is a constant."><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">constant: Specif... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../../../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="ndarray-an-n-dimensional-array-or-table">
<span id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray"></span><h1>ndarray: An <em>n</em>-dimensional array or table.<a class="headerlink" href="#ndarray-an-n-dimensional-array-or-table" title="Permalink to this headline">¶</a></h1>
<p><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data"><span>definitions/inline-data</span></a> <span class="soft">or</span> object.</p>
<p>An <em>n</em>-dimensional array or table.</p>
<p>There are two ways to store the data in an ndarray.</p>
<ul class="simple">
<li>Inline in the tree: This is recommended only for small arrays.  In
this case, the entire <code class="code docutils literal"><span class="pre">ndarray</span></code> tag may be a nested list, in
which case the type of the array is inferred from the content. (See
the rules for type inference in the <code class="code docutils literal"><span class="pre">inline-data</span></code> definition
below.)  The inline data may also be given in the <code class="code docutils literal"><span class="pre">data</span></code>
property, in which case it is possible to explicitly specify the
<code class="code docutils literal"><span class="pre">datatype</span></code> and other properties.</li>
<li>External to the tree: The data comes from a <a class="reference internal" href="../../../../../file_layout.html#block"><span>block</span></a>
within the same ASDF file or an external ASDF file referenced by a
URI.</li>
</ul>
<p><span class="category">Definitions:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-datatype"><span class="entry">scalar-datatype</span></p>
<p><span class="soft">Type:</span> string <span class="soft">from</span> [&#8220;int8&#8221;, &#8220;uint8&#8221;, &#8220;int16&#8221;, &#8220;uint16&#8221;, &#8220;int32&#8221;, &#8220;uint32&#8221;, &#8220;int64&#8221;, &#8220;uint64&#8221;, &#8220;float32&#8221;, &#8220;float64&#8221;, &#8220;complex64&#8221;, &#8220;complex128&#8221;, &#8220;bool8&#8221;] <span class="soft">or</span> array.</p>
<p>Describes the type of a single element.</p>
<p>There is a set of numeric types, each with a single identifier:</p>
<ul class="simple">
<li><code class="code docutils literal"><span class="pre">int8</span></code>, <code class="code docutils literal"><span class="pre">int16</span></code>, <code class="code docutils literal"><span class="pre">int32</span></code>, <code class="code docutils literal"><span class="pre">int64</span></code>: Signed
integer types, with the given bit size.</li>
<li><code class="code docutils literal"><span class="pre">uint8</span></code>, <code class="code docutils literal"><span class="pre">uint16</span></code>, <code class="code docutils literal"><span class="pre">uint32</span></code>, <code class="code docutils literal"><span class="pre">uint64</span></code>:
Unsigned integer types, with the given bit size.</li>
<li><code class="code docutils literal"><span class="pre">float32</span></code>: Single-precision floating-point type or
&#8220;binary32&#8221;, as defined in IEEE 754.</li>
<li><code class="code docutils literal"><span class="pre">float64</span></code>: Double-precision floating-point type or
&#8220;binary64&#8221;, as defined in IEEE 754.</li>
<li><code class="code docutils literal"><span class="pre">complex64</span></code>: Complex number where the real and imaginary
parts are each single-precision floating-point (&#8220;binary32&#8221;)
numbers, as defined in IEEE 754.</li>
<li><code class="code docutils literal"><span class="pre">complex128</span></code>: Complex number where the real and imaginary
parts are each double-precision floating-point (&#8220;binary64&#8221;)
numbers, as defined in IEEE 754.</li>
</ul>
<p>There are two distinct fixed-length string types, which must
be indicated with a 2-element array where the first element is an
identifier for the string type, and the second is a length:</p>
<ul class="simple">
<li><code class="code docutils literal"><span class="pre">ascii</span></code>: A string containing ASCII text (all codepoints &lt;
128), where each character is 1 byte.</li>
<li><code class="code docutils literal"><span class="pre">ucs4</span></code>: A string containing unicode text in the UCS-4
encoding, where each character is always 4 bytes long.  Here the
number of bytes used is 4 times the given length.</li>
</ul>
<p><span class="category">Any of:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-datatype-anyof-0"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> string <span class="soft">from</span> [&#8220;int8&#8221;, &#8220;uint8&#8221;, &#8220;int16&#8221;, &#8220;uint16&#8221;, &#8220;int32&#8221;, &#8220;uint32&#8221;, &#8220;int64&#8221;, &#8220;uint64&#8221;, &#8220;float32&#8221;, &#8220;float64&#8221;, &#8220;complex64&#8221;, &#8220;complex128&#8221;, &#8220;bool8&#8221;].</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-datatype-anyof-1"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> array.</p>
<p><span class="category">Items:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-datatype-anyof-1-0"><span class="entry">index[0]</span></p>
<p><span class="soft">Type:</span> string <span class="soft">from</span> [&#8220;ascii&#8221;, &#8220;ucs4&#8221;].</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-datatype-anyof-1-1"><span class="entry">index[1]</span></p>
<p><span class="soft">Type:</span> integer  ≥ 0.</p>
</div></blockquote>
</div></blockquote>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-datatype"><span class="entry">datatype</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-datatype"><span>definitions/scalar-datatype</span></a> <span class="soft">or</span> array <span class="soft">of</span> ( <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-datatype"><span>definitions/scalar-datatype</span></a> <span class="soft">or</span> object ).</p>
<p>The data format of the array elements.  May be a single scalar
datatype, or may be a nested list of datatypes.  When a list, each field
may have a name.</p>
<p><span class="category">Any of:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-datatype-anyof-0"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-datatype"><span>definitions/scalar-datatype</span></a>.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-datatype-anyof-1"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> array <span class="soft">of</span> ( <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-datatype"><span>definitions/scalar-datatype</span></a> <span class="soft">or</span> object ).</p>
<p><span class="category">Items:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-datatype-anyof-1-items"><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-datatype"><span>definitions/scalar-datatype</span></a> <span class="soft">or</span> object.</p>
<p><span class="category">Any of:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-datatype-anyof-1-items-anyof-0"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-datatype"><span>definitions/scalar-datatype</span></a>.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-datatype-anyof-1-items-anyof-1"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> object.</p>
<p><span class="category">Properties:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-datatype-anyof-1-items-anyof-1-properties-name"><span class="entry">name</span></p>
<p><span class="soft">Type:</span> string ( <span class="soft">regex</span> <code class="regexp docutils literal"><span class="pre">[A-Za-z_][A-Za-z0-9_]*</span></code> ).</p>
<p>The name of the field</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-datatype-anyof-1-items-anyof-1-properties-datatype"><span class="entry">datatype</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-datatype"><span>definitions/datatype</span></a>. Required.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-datatype-anyof-1-items-anyof-1-properties-byteorder"><span class="entry">byteorder</span></p>
<p><span class="soft">Type:</span> string <span class="soft">from</span> [&#8220;big&#8221;, &#8220;little&#8221;].</p>
<p>The byteorder for the field.  If not provided, the
byteorder of the datatype as a whole will be used.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-datatype-anyof-1-items-anyof-1-properties-shape"><span class="entry">shape</span></p>
<p><span class="soft">Type:</span> array <span class="soft">of</span> ( integer  ≥ 0 ).</p>
<p><span class="category">Items:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-datatype-anyof-1-items-anyof-1-properties-shape-items"><span class="soft">Type:</span> integer  ≥ 0.</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data"><span class="entry">inline-data</span></p>
<p><span class="soft">Type:</span> array <span class="soft">of</span> ( number <span class="soft">or</span> string <span class="soft">or</span> null <span class="soft">or</span> <a class="reference internal" href="complex.html"><em>complex</em></a> <span class="soft">or</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data"><span>definitions/inline-data</span></a> <span class="soft">or</span> boolean ).</p>
<p>Inline data is stored in YAML format directly in the tree, rather than
referencing a binary block.  It is made out of nested lists.</p>
<p>If the datatype of the array is not specified, it is inferred from
the array contents.  Type inference is supported only for
homogeneous arrays, not tables.</p>
<ul class="simple">
<li>If any of the elements in the array are YAML strings, the
<code class="code docutils literal"><span class="pre">datatype</span></code> of the entire array is <code class="code docutils literal"><span class="pre">ucs4</span></code>, with the
width of the largest string in the column, otherwise...</li>
<li>If any of the elements in the array are complex numbers, the
<code class="code docutils literal"><span class="pre">datatype</span></code> of the entire column is <code class="code docutils literal"><span class="pre">complex128</span></code>,
otherwise...</li>
<li>If any of the types in the column are numbers with a decimal point,
the <code class="code docutils literal"><span class="pre">datatype</span></code> of the entire column is <code class="code docutils literal"><span class="pre">float64</span></code>,
otherwise..</li>
<li>If any of the types in the column are integers, the
<code class="code docutils literal"><span class="pre">datatype</span></code> of the entire column is <code class="code docutils literal"><span class="pre">int64</span></code>,
otherwise...</li>
<li>The <code class="code docutils literal"><span class="pre">datatype</span></code> of the entire column is <code class="code docutils literal"><span class="pre">bool8</span></code>.</li>
</ul>
<p><span class="category">Items:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data-items"><span class="soft">Type:</span> number <span class="soft">or</span> string <span class="soft">or</span> null <span class="soft">or</span> <a class="reference internal" href="complex.html"><em>complex</em></a> <span class="soft">or</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data"><span>definitions/inline-data</span></a> <span class="soft">or</span> boolean.</p>
<p><span class="category">Any of:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data-items-anyof-0"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> number.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data-items-anyof-1"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> string.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data-items-anyof-2"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> null.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data-items-anyof-3"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="complex.html"><em>complex</em></a>.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data-items-anyof-4"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data"><span>definitions/inline-data</span></a>.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data-items-anyof-5"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> boolean.</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<p><span class="category">Any of:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-0"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data"><span>definitions/inline-data</span></a>.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> object.</p>
<p><span class="category">Properties:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-source"><span class="entry">source</span></p>
<p><span class="soft">Type:</span> integer <span class="soft">or</span> string ( <span class="soft">format</span> uri ).</p>
<p>The source of the data.</p>
<ul class="simple">
<li>If an integer: If positive, the zero-based index of the block
within the same file. If negative, the index from the last block
within the same file.  For example, a source of <code class="code docutils literal"><span class="pre">-1</span></code>
corresponds to the last block in the same file.</li>
<li>If a string, a URI to an external ASDF file containing the block
data.  Relative URIs and <code class="code docutils literal"><span class="pre">file:</span></code> and <code class="code docutils literal"><span class="pre">http:</span></code> protocols
must be supported.  Other protocols may be supported by specific
library implementations.</li>
</ul>
<p>The ability to reference block data in an external ASDF file
is intentionally limited to the first block in the external
ASDF file, and is intended only to support the needs of
<a class="reference internal" href="../../../../../file_layout.html#exploded"><span>exploded</span></a>.  For the more general case of
referencing data in an external ASDF file, use tree
<a class="reference internal" href="../../../../../tree.html#references"><span>references</span></a>.</p>
<p><span class="category">Any of:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-source-anyof-0"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> integer.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-source-anyof-1"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> string ( <span class="soft">format</span> uri ).</p>
</div></blockquote>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-data"><span class="entry">data</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data"><span>definitions/inline-data</span></a>.</p>
<p>The data for the array inline.</p>
<p>If <code class="code docutils literal"><span class="pre">datatype</span></code> and/or <code class="code docutils literal"><span class="pre">shape</span></code> are also provided, they must
match the data here and can be used as a consistency check.
<code class="code docutils literal"><span class="pre">strides</span></code>, <code class="code docutils literal"><span class="pre">offset</span></code> and <code class="code docutils literal"><span class="pre">byteorder</span></code> are meaningless when
<code class="code docutils literal"><span class="pre">data</span></code> is provided.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-shape"><span class="entry">shape</span></p>
<p><span class="soft">Type:</span> array <span class="soft">of</span> ( integer  ≥ 0 <span class="soft">or</span> any <span class="soft">from</span> [&#8220;*&#8221;] ).</p>
<p>The shape of the array.</p>
<p>The first entry may be the string <code class="code docutils literal"><span class="pre">*</span></code>, indicating that the
length of the first index of the array will be automatically
determined from the size of the block.  This is used for
streaming support.</p>
<p><span class="category">Items:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-shape-items"><span class="soft">Type:</span> integer  ≥ 0 <span class="soft">or</span> any <span class="soft">from</span> [&#8220;*&#8221;].</p>
<p><span class="category">Any of:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-shape-items-anyof-0"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> integer  ≥ 0.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-shape-items-anyof-1"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> any <span class="soft">from</span> [&#8220;*&#8221;].</p>
</div></blockquote>
</div></blockquote>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-datatype"><span class="entry">datatype</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-datatype"><span>definitions/datatype</span></a>.</p>
<p>The data format of the array elements.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-byteorder"><span class="entry">byteorder</span></p>
<p><span class="soft">Type:</span> string <span class="soft">from</span> [&#8220;big&#8221;, &#8220;little&#8221;].</p>
<p>The byte order (big- or little-endian) of the array data.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-offset"><span class="entry">offset</span></p>
<p><span class="soft">Type:</span> integer  ≥ 0.</p>
<p>The offset, in bytes, within the data for this start of this view.</p>
<p><span class="soft">Default:</span> 0</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-strides"><span class="entry">strides</span></p>
<p><span class="soft">Type:</span> array <span class="soft">of</span> ( integer  ≥ 1 <span class="soft">or</span> integer  ≤ -1 ).</p>
<p>The number of bytes to skip in each dimension.  If not provided, the array is assumed by be contiguous and in C order.  If provided, must be the same length as the shape property.</p>
<p><span class="category">Items:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-strides-items"><span class="soft">Type:</span> integer  ≥ 1 <span class="soft">or</span> integer  ≤ -1.</p>
<p><span class="category">Any of:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-strides-items-anyof-0"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> integer  ≥ 1.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-strides-items-anyof-1"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> integer  ≤ -1.</p>
</div></blockquote>
</div></blockquote>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-mask"><span class="entry">mask</span></p>
<p><span class="soft">Type:</span> number <span class="soft">or</span> <a class="reference internal" href="complex.html"><em>complex</em></a> <span class="soft">or</span> <a class="reference internal" href=""><em>ndarray</em></a>.</p>
<p>Describes how missing values in the array are stored.  If a scalar number, that number is used to represent missing values. If an ndarray, the given array provides a mask, where non-zero values represent missing values in this array.  The mask array must be broadcastable to the dimensions of this array.</p>
<p><span class="category">Any of:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-mask-anyof-0"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> number.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-mask-anyof-1"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="complex.html"><em>complex</em></a>.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-mask-anyof-2"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href=""><em>ndarray</em></a>.</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<p><span class="category">Examples:</span></p>
<p>An inline array, with implicit data type:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">[[1, 0, 0],</span>
   <span class="l-Scalar-Plain">[0, 1, 0],</span>
   <span class="l-Scalar-Plain">[0, 0, 1]]</span>
</pre></div>
</div>
<p>An inline array, with an explicit data type:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">datatype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float64</span>
  <span class="l-Scalar-Plain">data</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">[[</span><span class="nv">1</span><span class="p-Indicator">,</span> <span class="nv">0</span><span class="p-Indicator">,</span> <span class="nv">0</span><span class="p-Indicator">],</span>
     <span class="p-Indicator">[</span><span class="nv">0</span><span class="p-Indicator">,</span> <span class="nv">1</span><span class="p-Indicator">,</span> <span class="nv">0</span><span class="p-Indicator">],</span>
     <span class="p-Indicator">[</span><span class="nv">0</span><span class="p-Indicator">,</span> <span class="nv">0</span><span class="p-Indicator">,</span> <span class="nv">1</span><span class="p-Indicator">]]</span>
</pre></div>
</div>
<p>An inline table, where the types of each column are automatically detected:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">[[M110, 110, 205, And],</span>
   <span class="l-Scalar-Plain">[ M31,  31, 224, And],</span>
   <span class="l-Scalar-Plain">[ M32,  32, 221, And],</span>
   <span class="l-Scalar-Plain">[M103, 103, 581, Cas]]</span>
</pre></div>
</div>
<p>An inline table, where the types of each column are explicitly specified:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">datatype</span><span class="p-Indicator">:</span> <span class="p-Indicator">[[</span><span class="s">&#39;ascii&#39;</span><span class="p-Indicator">,</span> <span class="nv">4</span><span class="p-Indicator">],</span> <span class="nv">uint16</span><span class="p-Indicator">,</span> <span class="nv">uint16</span><span class="p-Indicator">,</span> <span class="p-Indicator">[</span><span class="s">&#39;ascii&#39;</span><span class="p-Indicator">,</span> <span class="nv">4</span><span class="p-Indicator">]]</span>
  <span class="l-Scalar-Plain">data</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">[[</span><span class="nv">M110</span><span class="p-Indicator">,</span> <span class="nv">110</span><span class="p-Indicator">,</span> <span class="nv">205</span><span class="p-Indicator">,</span> <span class="nv">And</span><span class="p-Indicator">],</span>
     <span class="p-Indicator">[</span> <span class="nv">M31</span><span class="p-Indicator">,</span>  <span class="nv">31</span><span class="p-Indicator">,</span> <span class="nv">224</span><span class="p-Indicator">,</span> <span class="nv">And</span><span class="p-Indicator">],</span>
     <span class="p-Indicator">[</span> <span class="nv">M32</span><span class="p-Indicator">,</span>  <span class="nv">32</span><span class="p-Indicator">,</span> <span class="nv">221</span><span class="p-Indicator">,</span> <span class="nv">And</span><span class="p-Indicator">],</span>
     <span class="p-Indicator">[</span><span class="nv">M103</span><span class="p-Indicator">,</span> <span class="nv">103</span><span class="p-Indicator">,</span> <span class="nv">581</span><span class="p-Indicator">,</span> <span class="nv">Cas</span><span class="p-Indicator">]]</span>
</pre></div>
</div>
<p>A double-precision array, in contiguous memory in a block within the same file:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0</span>
  <span class="l-Scalar-Plain">shape</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">1024</span><span class="p-Indicator">,</span> <span class="nv">1024</span><span class="p-Indicator">]</span>
  <span class="l-Scalar-Plain">datatype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float64</span>
  <span class="l-Scalar-Plain">byteorder</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">little</span>
</pre></div>
</div>
<p>A view of a tile in that image:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0</span>
  <span class="l-Scalar-Plain">shape</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">256</span><span class="p-Indicator">,</span> <span class="nv">256</span><span class="p-Indicator">]</span>
  <span class="l-Scalar-Plain">datatype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float64</span>
  <span class="l-Scalar-Plain">byteorder</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">little</span>
  <span class="l-Scalar-Plain">strides</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">8192</span><span class="p-Indicator">,</span> <span class="nv">8</span><span class="p-Indicator">]</span>
  <span class="l-Scalar-Plain">offset</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">2099200</span>
</pre></div>
</div>
<p>A table datatype, with nested columns for a coordinate in (<em>ra</em>, <em>dec</em>), and a 3x3 convolution kernel:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0</span>
  <span class="l-Scalar-Plain">shape</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">64</span><span class="p-Indicator">]</span>
  <span class="l-Scalar-Plain">datatype</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">coordinate</span>
      <span class="l-Scalar-Plain">datatype</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">ra</span>
          <span class="l-Scalar-Plain">datatype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float64</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">dec</span>
          <span class="l-Scalar-Plain">datatype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float64</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">kernel</span>
      <span class="l-Scalar-Plain">datatype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float32</span>
      <span class="l-Scalar-Plain">shape</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">3</span><span class="p-Indicator">,</span> <span class="nv">3</span><span class="p-Indicator">]</span>
  <span class="l-Scalar-Plain">byteorder</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">little</span>
</pre></div>
</div>
<p>An array in Fortran order:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0</span>
  <span class="l-Scalar-Plain">shape</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">1024</span><span class="p-Indicator">,</span> <span class="nv">1024</span><span class="p-Indicator">]</span>
  <span class="l-Scalar-Plain">datatype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float64</span>
  <span class="l-Scalar-Plain">byteorder</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">little</span>
  <span class="l-Scalar-Plain">strides</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">8192</span><span class="p-Indicator">,</span> <span class="nv">8</span><span class="p-Indicator">]</span>
</pre></div>
</div>
<p>An array where values of -999 are treated as missing:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0</span>
  <span class="l-Scalar-Plain">shape</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">256</span><span class="p-Indicator">,</span> <span class="nv">256</span><span class="p-Indicator">]</span>
  <span class="l-Scalar-Plain">datatype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float64</span>
  <span class="l-Scalar-Plain">byteorder</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">little</span>
  <span class="l-Scalar-Plain">mask</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">-999</span>
</pre></div>
</div>
<p>An array where another array is used as a mask:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0</span>
  <span class="l-Scalar-Plain">shape</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">256</span><span class="p-Indicator">,</span> <span class="nv">256</span><span class="p-Indicator">]</span>
  <span class="l-Scalar-Plain">datatype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float64</span>
  <span class="l-Scalar-Plain">byteorder</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">little</span>
  <span class="l-Scalar-Plain">mask</span><span class="p-Indicator">:</span> <span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
    <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
    <span class="l-Scalar-Plain">shape</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">256</span><span class="p-Indicator">,</span> <span class="nv">256</span><span class="p-Indicator">]</span>
    <span class="l-Scalar-Plain">datatype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">bool8</span>
    <span class="l-Scalar-Plain">byteorder</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">little</span>
</pre></div>
</div>
<p>An array where the data is stored in the first block in another ASDF file.:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">external.asdf</span>
  <span class="l-Scalar-Plain">shape</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">256</span><span class="p-Indicator">,</span> <span class="nv">256</span><span class="p-Indicator">]</span>
  <span class="l-Scalar-Plain">datatype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float64</span>
  <span class="l-Scalar-Plain">byteorder</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">little</span>
</pre></div>
</div>
<p><a class="reference download internal" href="../../../../../_downloads/ndarray.yaml"><code class="xref download docutils literal"><span class="pre">Original</span> <span class="pre">schema</span> <span class="pre">in</span> <span class="pre">YAML</span></code></a></p>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014, Michael Droettboom, Erik Bray, Space Telescope Science Institute.<br/>
      Last updated on Apr 06, 2015.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>